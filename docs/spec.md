# worktree-tui 仕様書

## 概要

worktree-tuiは、Gitのworktree機能を直感的に操作できるターミナルユーザーインターフェース（TUI）ツールです。複数のブランチで同時に作業する必要がある開発者のために、効率的なワークフロー管理を提供します。

## 目的

- Gitのworktree機能をより使いやすくする
- ビジュアルで直感的なインターフェースを提供
- worktreeの作成、削除、切り替えを簡単に行えるようにする
- 開発者の生産性を向上させる

## 主な機能

### 1. Worktree一覧表示
- 既存のworktreeをリスト形式で表示
- 各worktreeの以下の情報を表示：
  - パス
  - ブランチ名
  - コミットハッシュ
  - ステータス（クリーン/変更あり）

### 2. Worktree作成
- 新しいworktreeをインタラクティブに作成
- ブランチの選択または新規作成
- worktreeの保存先パスの指定
- 作成前の確認プロンプト

### 3. Worktree削除
- 既存のworktreeを安全に削除
- 削除前の確認プロンプト
- 未コミットの変更がある場合の警告

### 4. Worktree切り替え
- worktree間の素早い移動
- ディレクトリパスのクリップボードへのコピー
- ターミナルでの自動ディレクトリ変更（可能な場合）

### 5. キーボードショートカット
- `j/k` または `↓/↑`: リスト内の移動
- `n`: 新しいworktreeを作成
- `d`: 選択したworktreeを削除
- `Enter`: 選択したworktreeに切り替え
- `r`: 表示を更新
- `q` または `Esc`: 終了

## 技術仕様

### プログラミング言語
- Go言語を使用
- TUIライブラリとして[Bubble Tea](https://github.com/charmbracelet/bubbletea)を採用

### システム要件
- Git 2.5以降（worktree機能のサポート）
- Unix系OS（Linux、macOS）またはWindows
- ターミナルエミュレータ

### アーキテクチャ
- MVU（Model-View-Update）パターンを採用
- Gitコマンドのラッパー層を実装
- エラーハンドリングとユーザーフィードバックの適切な処理

## セキュリティ考慮事項

- ユーザー入力の適切なサニタイゼーション
- Gitコマンド実行時のインジェクション対策
- ファイルシステム操作の安全性確保

## 今後の拡張機能（予定）

1. worktreeの統計情報表示
2. worktree間のファイル比較
3. カスタムテーマのサポート
4. 設定ファイルによるカスタマイズ
5. worktreeのタグ付けと分類

## 参考資料

- [Git worktree ドキュメント](https://git-scm.com/docs/git-worktree)
- [Bubble Tea フレームワーク](https://github.com/charmbracelet/bubbletea)

## 変更履歴

| バージョン | 日付 | 変更内容 |
|-----------|------|----------|
| 1.0.0 | 2025-01-01 | 初版作成 |
